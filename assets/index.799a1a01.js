var e=Object.defineProperty,t=(t,n,i)=>(((t,n,i)=>{n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i})(t,"symbol"!=typeof n?n+"":n,i),i);!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(n){const i=new URL(e,location),s=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((n,o)=>{const r=new URL(e,i);if(self[t].moduleMap[r])return n(self[t].moduleMap[r]);const a=new Blob([`import * as m from '${r}';`,`${t}.moduleMap['${r}']=m;`],{type:"text/javascript"}),c=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(a),onerror(){o(new Error(`Failed to import: ${e}`)),s(c)},onload(){n(self[t].moduleMap[r]),s(c)}});document.head.appendChild(c)})),self[t].moduleMap={}}}("/fem-interactive-pricing-component/assets/");class n extends HTMLElement{constructor(){super(),t(this,"calculProgress",(()=>Math.ceil((this.value-this.min)/(this.max-this.min)*100))),t(this,"valueChanged",(e=>{this.value=e.target.value,this.updateComponentProgress(),this.sendEvent()})),t(this,"sendEvent",(()=>{void 0!==this.value&&this.dispatchEvent(new CustomEvent("valueChanged",{detail:this.value}))})),t(this,"updateComponentProgress",(()=>{const e=`--track-completed: ${this.calculProgress(this.value)}%;`;this.setAttribute("style",e)}));var e=this.getAttribute("step");this.min=this.getAttribute("min"),this.max=this.getAttribute("max"),this.initialValue=this.getAttribute("value"),this.value=this.initialValue,this.innerHTML=`<input type="range" name="nb_views" min="${this.min}" max="${this.max}" value="${this.initialValue}" step="${e}" aria-label="Nb views">`}connectedCallback(){this.updateComponentProgress(this.value),this.sendEvent(),this.querySelector("input").addEventListener("input",this.valueChanged)}disonnectedCallback(){this.querySelector("input").removeEventListener("input",this.valueChanged)}}class i extends HTMLElement{constructor(){super(),t(this,"onChange",(e=>{this.dispatchEvent(new CustomEvent("discountChanged",{detail:e.target.checked}))})),this.shadow=this.attachShadow({mode:"open"}),this.shadow.innerHTML='\n    <style>\n    :host {\n      --background-color: hsl(223, 50%, 87%);\n      --cursor-color: hsl(0, 0%, 100%);\n\n      --background-color-checked: hsl(174, 77%, 80%);\n      --cursor-color-checked: hsl(174, 86%, 45%);\n    }\n    .switch-control {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      justify-content: flex-end;\n    }\n\n    .switch {\n      position: relative;\n      display: inline-block;\n      width: 3.5em;\n      min-width: 3.5em;\n      height: 2em;\n      margin: 0 0.4em;\n    }\n    .switch input {\n      opacity: 0;\n      width: 0;\n      height: 0;\n    }\n\n    .slider {\n      position: absolute;\n      display: inline-block;\n      cursor: pointer;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background-color: var(--background-color);\n      -webkit-transition: .4s;\n      transition: .4s;\n      border-radius: 34px;\n    }\n    .slider:hover {\n      background-color: var(--background-color-checked);\n    }\n    .slider:before {\n      position: absolute;\n      content: "";\n      height: 1.4em;\n      width: 1.4em;\n      left: 4px;\n      bottom: 4px;\n      background-color: var(--cursor-color);\n      -webkit-transition: .2s;\n      transition: .2s;\n      border-radius: 50%;\n    }\n\n    input:checked + .slider {\n      background-color: var(--background-color-checked);\n    }\n    input:focus + .slider {\n      box-shadow: 0 0 1px var(--background-color-checked);\n    }\n    input:checked + .slider:before {\n      -webkit-transform: translateX(calc(3.5em - 1.4em - 8px));\n      -ms-transform: translateX(calc(3.5em - 1.4em - 8px));\n      transform: translateX(calc(3.5em - 1.4em - 8px));\n      background-color: var(--cursor-color-checked);\n    }\n    .text {\n      font-size: 0.9em;\n    }\n    </style>\n\n    <div class="switch-control">\n      <slot name="off" class="text"></slot>\n      <label class="switch">\n        <input type="checkbox" value="0" />\n        <span class="slider"></span>\n      </label>\n      <slot name="on" class="text"></slot>\n    </div>\n    '}connectedCallback(){this.shadow.querySelector("input").addEventListener("change",this.onChange)}}class s{constructor(e){var n,i;t(this,"applyDiscount",(e=>{this.discountPercent=e,this.calculate()})),t(this,"updateNbPageViews",(e=>{this.nbPageViews=e,this.calculate()})),t(this,"calculate",(()=>{let e=this.nbPageViews*this.unitPrice;return this.discountPercent>0&&(e=e*(100-this.discountPercent)/100),e=Math.ceil(e),void 0!==this.targetSelector&&(document.querySelector(this.targetSelector).innerHTML=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)),e})),this.discountPercent=null!=(n=e.discountPercent)?n:0,this.nbPageViews=null!=(i=e.nbPageViews)?i:0,this.targetSelector=e.targetSelector,this.unitPrice=16e-5,this.calculate()}}customElements.define("slider-control",n),customElements.define("switch-control",i),document.addEventListener("DOMContentLoaded",(function(){const e=new s({nbPageViews:1e5,targetSelector:".pricing-card .priceValue"});document.querySelector("slider-control").addEventListener("valueChanged",(function(t){document.querySelector(".pageviews .nb").innerHTML=`${t.detail}k`,e.updateNbPageViews(1e3*t.detail)})),document.querySelector("switch-control").addEventListener("discountChanged",(function(t){e.applyDiscount(t.detail?25:0)}))}));
